name: CI with C/C++ Exotic Action

on:
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]

jobs:
  build:
    runs-on: ${{ matrix.os }}
    strategy:
      matrix:
        os: [windows-latest]
        platform: [x64]
        compiler: [gnu]

    steps:
      - name: Checkout
        uses: actions/checkout@v2
        
      - name: Print Folder
        run: |
          C:\msys64\mingw32\bin\gcc.exe -v
          SET PATH=%PATH%;C:\msys64\mingw64\bin && C:\msys64\mingw64\bin\gcc.exe -m64 -pedantic -I. test\test_no_assert.c -o test_no_assert.ex
        
      #- name: Setup Exotic Libraries
      #  uses: exoticlibraries/exotic-action@master
      #  with:
      #    run-cester-regression: false
        
      - name: Run Regression
        uses: exoticlibraries/exotic-action@master
        with:
          download-exotic-libraries: false
